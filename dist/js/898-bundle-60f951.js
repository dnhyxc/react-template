"use strict";(self.webpackChunkmobx=self.webpackChunkmobx||[]).push([[898],{9917:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});t(3115);var i=t(3413),c=(t(525),t(9622)),s=t(5893),o=t(7294),r=t(9711),a=t(6974),l=t(1647),d=t(4628),h=t(8949),u=new(function(){function n(){this.count=0,this.timer=0,(0,h.ky)(this)}return n.prototype.increment=function(){this.count++},n.prototype.decrement=function(){this.count--},n.prototype.reset=function(){this.count=0},n.prototype.incrementAsync=function(){var n=this;this.timer&&clearInterval(this.timer),this.timer=setTimeout((function(){(0,h.z)((function(){n.count++}))}),1e3)},n}()),m=new(function(){function n(){this.list=[{name:"initName",age:18,id:1}],(0,h.ky)(this)}return n.prototype.initList=function(){this.list=[{name:"name1",age:18,id:2},{name:"name2",age:19,id:3},{name:"name3",age:20,id:4}]},n.prototype.addItem=function(){this.list.push({name:"dnhyxc",age:this.list.length+18,id:this.list.length+999})},n.prototype.deleteItem=function(n){var e=this.list.findIndex((function(e){return e.id===n}));this.list.splice(e,1)},n.prototype.deleteAllChecked=function(n){var e=this.list.filter((function(e){return!n.includes(e.id)}));this.list=e},n}()),f=new function(){this.add=u,this.detail=m},p=(0,o.createContext)(f);var x={container:"index__container--FZHqo",wrap:"index__wrap--Kn8a1",content:"index__content--lLQ4o",countAction:"index__countAction--o6fch",list:"index__list--IveT5",checkbox:"index__checkbox--S9mML",checkAll:"index__checkAll--UC3jj",item:"index__item--Pp79b",actions:"index__actions--t4kRc",action:"index__action--YHqKz"},j=function(){return j=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var c in e=arguments[t])Object.prototype.hasOwnProperty.call(e,c)&&(n[c]=e[c]);return n},j.apply(this,arguments)},k=function(n,e,t){if(t||2===arguments.length)for(var i,c=0,s=e.length;c<s;c++)!i&&c in e||(i||(i=Array.prototype.slice.call(e,0,c)),i[c]=e[c]);return n.concat(i||Array.prototype.slice.call(e))},y=(0,l.Pi)((function(){var n=(0,o.useState)([]),e=n[0],t=n[1],l=(0,r.lr)()[0].get("id"),h=(0,a.UO)().id,u=(0,o.useContext)(p),m=u.add,f=u.detail;return(0,s.jsxs)("div",j({className:x.container},{children:[(0,s.jsx)(d.Z,{children:"Detail"}),(0,s.jsx)("div",j({className:x.wrap},{children:(0,s.jsxs)("div",j({className:x.content},{children:[(0,s.jsxs)("div",{children:["详情ID为：",l||h]}),(0,s.jsxs)("div",j({className:x.countAction},{children:[(0,s.jsx)("h1",{children:m.count}),(0,s.jsxs)("div",j({className:x.list},{children:[(0,s.jsxs)("div",j({className:x.checkAll},{children:[(0,s.jsx)(c.Z,{className:x.checkbox,checked:f.list.length===e.length&&e.length>0,onChange:function(){var n=f.list.map((function(n){return n.id}));n.length===e.length?t([]):t(n)}}),(0,s.jsx)("span",{children:"全选"})]})),f.list.map((function(n){return(0,s.jsxs)("div",j({className:x.item},{children:[(0,s.jsxs)("div",j({className:x.info},{children:[(0,s.jsx)(c.Z,{className:x.checkbox,checked:e.includes(n.id),onChange:function(){return function(n){if(e.some((function(e){return e===n}))){var i=e.filter((function(e){return e!==n}));t(i)}else e.push(n),t(k([],e,!0))}(n.id)}}),(0,s.jsxs)("span",{children:["name: ",n.name]})," - ",(0,s.jsxs)("span",{children:["age: ",n.age]})]})),(0,s.jsx)(i.Z,j({type:"link",onClick:function(){return i=n.id,c=e.filter((function(n){return n!==i})),t(c),void f.deleteItem(i);var i,c}},{children:"删除"}))]}),n.id)}))]})),(0,s.jsxs)("div",j({className:x.actions},{children:[(0,s.jsx)(i.Z,j({className:x.action,onClick:function(){m.increment()}},{children:"点我加"})),(0,s.jsx)(i.Z,j({className:x.action,onClick:function(){m.incrementAsync()}},{children:"异步加"})),(0,s.jsx)(i.Z,j({className:x.action,onClick:function(){m.decrement()}},{children:"点我减"})),(0,s.jsx)(i.Z,j({className:x.action,onClick:function(){m.reset()}},{children:"重置"})),(0,s.jsx)(i.Z,j({type:"primary",className:x.action,onClick:function(){f.addItem()}},{children:"增加item"})),(0,s.jsx)(i.Z,j({type:"primary",className:x.action,onClick:function(){t([]),f.initList()}},{children:"重新获取List"})),(0,s.jsx)(i.Z,j({type:"primary",className:x.action,onClick:function(){t([]),f.deleteAllChecked(e)},disabled:0===e.length},{children:"批量删除"}))]}))]}))]}))}))]}))}))}}]);